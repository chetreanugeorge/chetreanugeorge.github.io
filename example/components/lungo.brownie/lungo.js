/* lungo v2.1.0 - 2013/6/14
   http://lungo.tapquo.com
   Copyright (c) 2013 Tapquo S.L. - Licensed GPLv3, Commercial */
(function(){var e;window.Lungo=e={};e.VERSION="2.1.0511";e.DEVICE=null;e.Config||(e.Config={});e.Element||(e.Element={});e.Data||(e.Data={});e.Sugar||(e.Sugar={});e.View||(e.View={});e.Boot||(e.Boot={});e.Device||(e.Device={});e.ready||(e.ready=Quo().ready)}).call(this);(function(){Lungo.Attributes={count:{selector:"*",html:'<span class="tag count">{{value}}</span>'},pull:{selector:"*",html:'<div data-control="pull" data-icon="{{value}}" data-loading>\n  <strong></strong>\n</div>'},progress:{selector:"*",html:'<div class="progress">\n  <span class="bar"><span class="value" style="width:{{value}};"></span></span>\n</div>'},label:{selector:"*",html:"<abbr>{{value}}</abbr>"},icon:{selector:"*",html:'<span class="icon {{value}}"></span>'},image:{selector:"*",html:'<img src="{{value}}" class="icon" />'},title:{selector:"header",html:'<h1 class="title centered">{{value}}</h1>'},"control-checkbox":{selector:"*",html:'<input type="checkbox" value="None" id="{{value}}" />\n<label for="{{value}}"></label>'},loading:{selector:"*",html:'<div class="loading {{value}}">\n  <span class="top"></span>\n  <span class="right"></span>\n  <span class="bottom"></span>\n  <span class="left"></span>\n</div>'},back:{selector:"header",html:'<nav class="left"><a href="#" data-view-section="back"><span class="icon {{value}}"></span></a></nav>'}}}).call(this);(function(){Lungo.Cache=function(e){var t,n,i,a,r;r={};a=function(i,a){if(t(i)){return r[i]=e.Core.mix(n(i),a)}else{return r[i]=a}};n=function(e,t){if(arguments.length===1){return r[e]}else{if(r[arguments[0]]){return r[arguments[0]][arguments[1]]}else{return void 0}}};i=function(e,t){if(arguments.length===1){return delete r[e]}else{return delete r[arguments[0]][arguments[1]]}};t=function(e){if(r[e]){return true}else{return false}};return{set:a,get:n,remove:i,exists:t}}(Lungo)}).call(this);(function(){Lungo.Constants={ELEMENT:{SECTION:"section",ARTICLE:"article",ASIDE:"aside",MENU:"menu",BODY:"body",DIV:"div",LIST:"<ul></ul>",LI:"li"},QUERY:{ARTICLE_ROUTER:"[data-view-article]",SECTION_ROUTER:"[data-view-section]",ARTICLE_ROUTER_TOUCH:"header [data-view-article], footer [data-view-article], nav[data-control] [data-view-article]",SECTION_ROUTER_TOUCH:"header [data-view-section], footer [data-view-section], nav[data-control] [data-view-section]",ARTICLE_ROUTER_TAP:"article [data-view-article]",SECTION_ROUTER_TAP:"article [data-view-section]",ASIDE_ROUTER:"[data-view-aside]",MENU_ROUTER:"[data-view-menu]",LIST_IN_ELEMENT:"article.list",ELEMENT_SCROLLABLE:"article.scroll",HREF_ASIDE:"section[data-aside].drag",HREF_ROUTER:"a[href][data-router]",MENU_HREF:"[data-control=menu] a[href]",CONTROL_CHECKBOX:"[data-control-checkbox]",NAVIGATION_ITEM:'a[href][data-router="article"]',ARTICLE_REFERENCE:"[data-article]",TITLE:"header .title, footer .title",ACTIVE_LIST_ITEM:"li a.active, li.active"},CLASS:{ACTIVE:"active",ASIDE:"aside",SHOW:"show",HIDE:"hide",HIDING:"hiding",RIGHT:"right",LEFT:"left",HORIZONTAL:"horizontal",SMALL:"small",LAST:"last"},TRIGGER:{LOAD:"load",UNLOAD:"unload"},EVENT:{TRANSITION_END:["webkitAnimationEnd","animationend"],CHANGE:"change"},TRANSITION:{DURATION:400,ORIGIN:"transition-origin",ATTR:"transition"},ASIDE:{NORMAL:264},ATTRIBUTE:{ID:"id",HREF:"href",TITLE:"title",ARTICLE:"article",CLASS:"class",WIDTH:"width",HEIGHT:"height",PIXEL:"px",PERCENT:"%",ROUTER:"router",FIRST:"first",LAST:"last",EMPTY:"",CHILDREN:"children",TRANSITION:"transition",STATE:"state",DIRECTION:"direction"},BINDING:{START:"{{",END:"}}",KEY:"value",SELECTOR:"{{value}}"},DEVICE:{PHONE:"phone",TABLET:"tablet",TV:"tv"},ERROR:{DATABASE:"ERROR: Connecting to Data.Sql.",DATABASE_TRANSACTION:"ERROR: Data.Sql >> ",ROUTER:"ERROR: The target does not exists >>",LOADING_RESOURCE:"ERROR: Loading resource: "}}}).call(this);(function(){Lungo.Core=function(e,t){var n,i,a,r,o,s,l,u,c,d,f,E;n=Array.prototype;u=function(t,n){if(!e.Core.isMobile()){return console[t===1?"log":t===2?"warn":"error"](n)}};r=function(){var e,t;e=f(arguments);t=e.shift();if(E(t)==="function"){return t.apply(null,e)}};i=function(e,t){return function(){return t.apply(e,f(arguments))}};c=function(){var e,t,n,i,a;n=n||{};e=0;i=arguments.length;while(e<i){t=arguments[e];for(a in t){if(l(t,a)){n[a]=t[a]}}e++}return n};l=function(e,n){return t.isOwnProperty(e,n)};E=function(e){return t.toType(e)};f=function(e){return n.slice.call(e,0)};s=function(){return t.isMobile()};a=function(){return t.environment()};d=function(e,t,n){var i;i=n==="desc"?-1:1;return e.sort(function(e,n){if(e[t]<n[t]){return-i}else{if(e[t]>n[t]){return i}else{return 0}}})};o=function(e,t,n){var i,a,r,o;o=null;a=0;r=e.length;while(a<r){i=e[a];if(i[t]===n){o=i;break}a++}return o};return{log:u,execute:r,bind:i,mix:c,isOwnProperty:l,toType:E,toArray:f,isMobile:s,environment:a,orderByProperty:d,findByProperty:o}}(Lungo,Quo)}).call(this);(function(){Lungo.dom=function(e){return $$(e)}}).call(this);(function(){Lungo.Events=function(e){var t,n;t=" ";n=function(n){var i,a,r,o,s;s=[];for(a in n){o=a.indexOf(t);if(o>0){r=a.substring(0,o);i=a.substring(o+1);s.push(e.dom(document.body).delegate(i,r,n[a]))}else{s.push(void 0)}}return s};return{init:n}}(Lungo)}).call(this);(function(){Lungo.Fallback=function(e){var t;t=function(){var t,n;t=e.Core.environment();n=t.isMobile&&t.os.name==="Android"&&t.os.version<"3"?"absolute":"fixed";return e.dom(document.body).data("position",n)};return{fixPositionInAndroid:t}}(Lungo)}).call(this);(function(){Lungo.init=function(e){var t;Lungo.Config=e;if(e&&e.resources){Lungo.Resource.load(e.resources)}Lungo.Boot.Device.init();t=Lungo.DEVICE===Lungo.Constants.DEVICE.PHONE;Lungo.Router=t?Lungo.RouterPhone:Lungo.RouterTablet;Lungo.Boot.Events.init();Lungo.Boot.Data.init();return Lungo.Boot.Layout.init()}}).call(this);(function(){Lungo.Notification=function(e){var t,n,i,a,r,o,s,l,u,c,d,f,E,h,T,v,C,m,g,R,L,I,p,A;L=[];v=null;A=null;i=1;t=e.Constants.ATTRIBUTE;n=e.Constants.BINDING;s=e.Constants.TRANSITION;r={BODY:"body",NOTIFICATION:".notification",MODAL:".notification .window",MODAL_HREF:".notification .window a",WINDOW_CLOSABLE:".notification [data-action=close], .notification > .error, .notification > .success",CONFIRM_BUTTONS:".notification .confirm button, .notification .push"};o={MODAL:"modal",VISIBLE:"visible",SHOW:"show",WORKING:"working",INPUT:"input"};a='<div class="notification"><div class="window"></div></div>';E=function(t,i,a,r){var o,s;s=void 0;if(t!=null){s=g(i,null,t)}else{o=e.Attributes.loading.html;s=o.replace(n.START+n.KEY+n.END,"white")}I(s,"growl");return C(a,r)};c=function(){A.removeClass("show");return setTimeout(function(){return v.removeClass("show").removeClass("html").removeClass("confirm").removeClass("notify").removeClass("growl")},s.DURATION/2)};l=function(e){var t;L=e;t=g(e.title,e.description,e.icon);t+=T(e.accept,"accept");t+=T(e.cancel,"cancel");return I(t,"confirm")};h=function(e,t,n,i,a){if(n==null){n="ok"}return R(e,t,n,"success",i,a)};u=function(e,t,n,i,a){if(n==null){n="remove-sign"}return R(e,t,n,"error",i,a)};d=function(e,t,n,i){if(t){e+='<a href="#" class="button large anchor" data-action="close">'+t+"</a>"}I(e,"html "+n);return C(i)};f=function(e,t,n){I(g(e,null,t),"push "+n,false);return C(5)};m=function(){e.dom(r.BODY).append(a);v=e.dom(r.NOTIFICATION);A=v.children(".window");return p()};I=function(e,t,n){if(n==null){n=true}if(n){v.removeClass("push")}else{v.addClass("push")}if(!A.hasClass("show")){v.addClass("show")}else{A.removeClass(o.SHOW)}return setTimeout(function(){A.html(e);return A.attr("class","window "+t+" show")},s.DURATION/2)};C=function(e,t){var n=this;if(e!=null&&e>0){return setTimeout(function(){if(t){return t.call(void 0,t)}else{return c()}},e*1e3)}};R=function(e,t,n,i,a,r){I(g(e,t,n),i);return C(a,r)};g=function(e,t,n){t=!t?"&nbsp;":t;e=!e?"&nbsp;":e;return'<span class="icon '+n+'"></span><strong class="text bold">'+e+"</strong><small>"+t+"</small>"};T=function(e,t){return'<button data-callback="'+t+'" class="anchor">'+e.label+"</a>"};p=function(){e.dom(r.CONFIRM_BUTTONS).touch(function(t){var n,i;n=e.dom(this);if(L[n.data("callback")]!=null){i=L[n.data("callback")].callback;L=null;if(i!=null){i.call(void 0,i)}}return c()});return e.dom(r.WINDOW_CLOSABLE).tap(c)};m();return{show:E,hide:c,error:u,success:h,confirm:l,html:d,push:f}}(Lungo)}).call(this);(function(){Lungo.Resource=function(e,t){var n,i,a,r,o,s;n=e.Constants.ELEMENT;i=e.Constants.ERROR;a=function(t,n){var i,a,o;if(e.Core.toType(t)==="array"){i=0;a=t.length;o=[];while(i<a){r(t[i]);o.push(i++)}return o}else{return r(t,n)}};r=function(t,n){try{return s(o(t),n)}catch(i){return e.Core.log(3,i.message)}};o=function(e){return t.ajax({url:e,async:false,dataType:"html",error:function(){return console.error(i.LOADING_RESOURCE+e)}})};s=function(t,i){if(e.Core.toType(t)==="string"){i=i?i:n.BODY;return e.dom(i).append(t)}};return{load:a}}(Lungo,Quo)}).call(this);(function(){(function(e,t){var n,i,a,r,o,s,l,u,c,d,f,E;o=e.document;s=o.documentElement;i="scroll-enabled";n="ontouchmove"in o;d="WebkitOverflowScrolling"in s.style||!n&&e.screen.width>1200||function(){var t,n,i,a;t=e.navigator.userAgent;n=t.match(/AppleWebKit\/([0-9]+)/);a=n&&n[1];i=n&&a>=534;return t.match(/Android ([0-9]+)/)&&RegExp.$1>=3&&i||t.match(RegExp(" Version\\/([0-9]+)"))&&RegExp.$1>=0&&e.blackberry&&i||t.indexOf(/PlayBook/)>-1&&RegExp.$1>=0&&i||t.match(/Fennec\/([0-9]+)/)&&RegExp.$1>=4||t.match(/wOSBrowser\/([0-9]+)/)&&RegExp.$1>=233&&i||t.match(/NokiaBrowser\/([0-9\.]+)/)&&parseFloat(RegExp.$1)===7.3&&n&&a>=533}();r=function(e,t,n,i){return n*((e=e/i-1)*e*e+1)+t};u=false;f=void 0;E=function(t,n){var i,a,r,o,s,l,u;r=0;l=t.scrollLeft;u=t.scrollTop;s={top:"+0",left:"+0",duration:100,easing:e.overthrow.easing};i=void 0;a=void 0;if(n){for(o in s){if(n[o]!==void 0){s[o]=n[o]}}}if(typeof s.left==="string"){s.left=parseFloat(s.left);i=s.left+l}else{i=s.left;s.left=s.left-l}if(typeof s.top==="string"){s.top=parseFloat(s.top);a=s.top+u}else{a=s.top;s.top=s.top-u}f=setInterval(function(){if(r++<s.duration){t.scrollLeft=s.easing(r,l,s.left,s.duration);return t.scrollTop=s.easing(r,u,s.top,s.duration)}else{if(i!==t.scrollLeft){t.scrollLeft=i}if(a!==t.scrollTop){t.scrollTop=a}return c()}},1);return{top:a,left:i,duration:s.duration,easing:s.easing}};a=function(e,t){return!t&&e.className&&e.className.indexOf("scroll")>-1&&e||a(e.parentNode)};c=function(){return clearInterval(f)};l=function(){var t,l,f,h,T,v,C,m,g,R,L,I;if(u){return}u=true;if(d||n){s.className+=" "+i}e.overthrow.forget=function(){s.className=s.className.replace(i,"");if(o.removeEventListener){o.removeEventListener("touchstart",I,false)}e.overthrow.easing=r;return u=false};if(d||!n){return}l=void 0;m=[];v=[];T=void 0;C=void 0;R=function(){m=[];return T=null};g=function(){v=[];return C=null};f=function(){var e,t,n;n=(m[0]-m[m.length-1])*8;t=(v[0]-v[v.length-1])*8;e=Math.max(Math.abs(t),Math.abs(n))/8;n=(n>0?"+":"")+n;t=(t>0?"+":"")+t;if(!isNaN(e)&&e>0&&(Math.abs(t)>80||Math.abs(n)>80)){return E(l,{left:t,top:n,duration:e})}};h=void 0;L=function(e){var t,n,i;h=l.querySelectorAll("textarea, input");t=0;n=h.length;i=[];while(t<n){h[t].style.pointerEvents=e;i.push(t++)}return i};t=function(e,t){var n,i;if(o.createEvent){n=(!t||t===void 0)&&l.parentNode||l.touchchild||l;i=void 0;if(n!==l){i=o.createEvent("HTMLEvents");i.initEvent("touchend",true,true);l.dispatchEvent(i);n.touchchild=l;l=n;return n.dispatchEvent(e)}}};I=function(e){var n,i,r,o,u,d,E,h,I,p,A;c();R();g();l=a(e.target);if(!l||l===s||e.touches.length>1){return}L("none");p=e;d=l.scrollTop;u=l.scrollLeft;i=l.offsetHeight;A=l.offsetWidth;I=e.touches[0].pageY;h=e.touches[0].pageX;o=l.scrollHeight;E=l.scrollWidth;r=function(e){var n,a,r,s;s=d+I-e.touches[0].pageY;r=u+h-e.touches[0].pageX;n=s>=(m.length?m[0]:0);a=r>=(v.length?v[0]:0);if(s>0&&s<o-i||r>0&&r<E-A){e.preventDefault()}else{t(p)}if(T&&n!==T){R()}if(C&&a!==C){g()}T=n;C=a;l.scrollTop=s;l.scrollLeft=r;m.unshift(s);v.unshift(r);if(m.length>3){m.pop()}if(v.length>3){return v.pop()}};n=function(e){f();L("auto");setTimeout(function(){return L("none")},450);l.removeEventListener("touchmove",r,false);return l.removeEventListener("touchend",n,false)};l.addEventListener("touchmove",r,false);return l.addEventListener("touchend",n,false)};return o.addEventListener("touchstart",I,false)};e.overthrow={set:l,forget:function(){},easing:r,toss:E,intercept:c,closest:a,support:d?"native":n&&"polyfilled"||"none"};return l()})(this)}).call(this);(function(){Lungo.Service=function(e,t){var n,i,a,r,o,s,l,u,c,d,f;i="lungojs_service_cache";n={MINUTE:"minute",HOUR:"hour",DAY:"day"};r=function(e,n,i,a){return t.get(e,n,i,a)};s=function(e,n,i,a){return t.post(e,n,i,a)};o=function(e,n,i){return t.json(e,n,i)};a=function(n,i,a,r,o){var s,l;s=n+t.serializeParameters(i);if(f(s,a)){l=e.Data.Storage.persistent(s);if(l){return r.call(r,l)}}else{return t.get(n,i,function(e){d(s,e);return r.call(r,e)},o)}};f=function(t,n){var a,r,o;a=false;o=e.Data.Storage.persistent(i);if(o){r=u(o[t]);a=c(r,n)}return a};u=function(e){var t,n;t=(new Date).getTime();n=new Date(e).getTime();return t-n};c=function(e,t){var n,i;i=t.split(" ");n=l(i[1],e);if(n<i[0]){return true}else{return false}};l=function(e,t){var i;i=t/1e3/60;if(e.indexOf(n.HOUR)>=0){i=i/60}else{if(e.indexOf(n.DAY)>=0){i=i/60/24}}return i};d=function(t,n){var a;a=e.Data.Storage.persistent(i)||{};a[t]=new Date;e.Data.Storage.persistent(i,a);return e.Data.Storage.persistent(t,n)};return{get:r,post:s,json:o,cache:a,Settings:t.ajaxSettings}}(Lungo,Quo)}).call(this);(function(){Lungo.RouterPhone=function(e){var t,n,i,a,r,o,s,l,u,c,d,f,E,h,T,v,C;t=e.Constants;n="#";c=[];u=false;s=function(i){var a,r,o;if(u){return false}a=e.Element.Cache.section;if(d(a,i)){o=t.ELEMENT.SECTION+n+i;r=a?a.siblings(o):e.dom(o);if(r.length){E(r,a);e.Router.step(i);if(Lungo.Config.history!==false){C()}return v()}}else if(e.Element.Cache.aside){return e.Aside.hide()}};r=function(){var i,a,r;if(u){return false}f();i=e.Element.Cache.section;r=t.ELEMENT.SECTION+n+o();a=i.siblings(r);if(a.length){E(a,i,true);if(Lungo.Config.history!==false){C()}return v()}};a=function(n,i,a){var r;if(d(e.Element.Cache.article,i)){e.Router.section(n);r=e.Element.Cache.section.find("#"+i);if(r.length>0){e.Element.Cache.article.removeClass(t.CLASS.ACTIVE).trigger(t.TRIGGER.UNLOAD);e.Element.Cache.article=r.addClass(t.CLASS.ACTIVE).trigger(t.TRIGGER.LOAD);if((a!=null?a.data(t.ATTRIBUTE.TITLE):void 0)!=null){e.Element.Cache.section.find(t.QUERY.TITLE).text(a.data(t.ATTRIBUTE.TITLE))}if(Lungo.Config.history!==false){C()}return v()}}};i=function(n){var i;s=e.dom(n.target);i=s.data(t.ATTRIBUTE.DIRECTION);if(i==="out"||i==="back-out"){s.removeClass(t.CLASS.SHOW)}s.removeAttr("data-"+t.ATTRIBUTE.DIRECTION);return u=false};l=function(e){if(e!==o()){return c.push(e)}};o=function(){return c[c.length-1]};E=function(t,n,i){var a;if(i==null){i=false}a=function(){return T(t,n,i)};if(e.Element.Cache.aside){return e.Aside.hide(a)}else{return a()}};T=function(t,n,i){if(n!=null){h(t,n,i)}return e.Section.show(n,t)};h=function(e,n,i){var a;if(i==null){i=false}if(n==null||!e.length){return false}u=true;a=i?"back-":"";e.addClass(t.CLASS.SHOW);if(e.data(t.TRANSITION.ATTR)){e.data(t.ATTRIBUTE.DIRECTION,""+a+"in")}if(n.data(t.TRANSITION.ATTR)){return n.data(t.ATTRIBUTE.DIRECTION,""+a+"out")}else{return n.removeClass(t.CLASS.SHOW)}};d=function(e,n){return(e!=null?e.attr(t.ATTRIBUTE.ID):void 0)!==n};C=function(){var t,n,i;t="";for(n=0,i=c.length;n<i;n++){s=c[n];t+=""+s+"/"}t+=e.Element.Cache.article.attr("id");return setTimeout(function(){return window.location.hash=t},0)};v=function(){var n,i,a;n=e.Element.Cache.article.attr(t.ATTRIBUTE.ID);i=e.dom(t.QUERY.ARTICLE_ROUTER).removeClass(t.CLASS.ACTIVE);i.filter("[data-view-article="+n+"]").addClass(t.CLASS.ACTIVE);a=e.Element.Cache.section.find(t.QUERY.ARTICLE_REFERENCE).addClass(t.CLASS.HIDE);return a.filter("[data-article*='"+n+"']").removeClass(t.CLASS.HIDE)};f=function(){if(c.length>1){return c.length-=1}};return{section:s,back:r,article:a,history:o,step:l,animationEnd:i}}(Lungo)}).call(this);(function(){Lungo.RouterTablet=function(e){var t,n,i,a,r,o,s,l,u,c,d,f,E,h,T,v,C,m,g,R,L,I,p,A,S,N;t=e.Constants;n="#";h=[];u=false;d=void 0;E=false;s=function(i){var a,r,o;if(u){return false}a=e.Element.Cache.section;if(v(a,i)){o=t.ELEMENT.SECTION+n+i;r=a?a.siblings(o):e.dom(o);if(r.length){R(r,a);l(i);if(Lungo.Config.history!==false){N()}return S()}}};r=function(i){var a,r,s,l,d;if(i==null){i=true}if(u){return false}if(!g()){d=e.dom(event.target).closest(t.ELEMENT.SECTION);if(d.length){s=0;while(o()!==d.attr("id")&&s++<10){c(e.dom(t.ELEMENT.SECTION+n+o()),"back-out");m()}e.Element.Cache.section=d}}m();a=e.Element.Cache.section;l=t.ELEMENT.SECTION+n+o();r=a.siblings(l);if(r.length){R(r,a,true,i);if(Lungo.Config.history!==false){N()}return S()}};a=function(n,i,a){var o;if(!g()&&n!==e.Element.Cache.section.attr("id")){r(false)}o=e.dom("article#"+i);if(o.length>0){s=o.closest(t.ELEMENT.SECTION);e.Router.section(s.attr("id"));s.children(""+t.ELEMENT.ARTICLE+"."+t.CLASS.ACTIVE).removeClass(t.CLASS.ACTIVE).trigger(t.TRIGGER.UNLOAD);e.Element.Cache.article.removeClass(t.CLASS.ACTIVE).trigger(t.TRIGGER.UNLOAD);e.Element.Cache.article=o.addClass(t.CLASS.ACTIVE).trigger(t.TRIGGER.LOAD);if((a!=null?a.data(t.ATTRIBUTE.TITLE):void 0)!=null){s.find(t.QUERY.TITLE).text(a.data(t.ATTRIBUTE.TITLE))}if(Lungo.Config.history!==false){N()}return S(i)}};i=function(n){var i;s=e.dom(n.target);i=s.data(t.ATTRIBUTE.DIRECTION);if(i){if(i==="out"||i==="back-out"){s.removeClass(t.CLASS.SHOW)}s.removeAttr("data-"+t.ATTRIBUTE.DIRECTION);if(d!=null){E=true;R(d,void 0);d=void 0}}if(s.hasClass("asideHidding")){s.removeClass("asideHidding").removeClass("aside")}if(s.hasClass("asideShowing")){s.removeClass("asideShowing").addClass("aside")}if(s.hasClass("shadowing")){s.removeClass("shadowing").addClass("shadow")}if(s.hasClass("unshadowing")){s.removeClass("unshadowing").removeClass("shadow")}return u=false};l=function(e){if(e!==o()){return h.push(e)}};o=function(){return h[h.length-1]};R=function(t,n,i){if(i==null){i=false}if(n==null){A(t)}else{if(i){I(n,t)}else{p(n,t)}e.Section.show(n,t)}return E=false};A=function(n){var i,a,r,o;console.error("Show future --> ",n.attr("id"),"curr->",e.Element.Cache.section);e.Element.Cache.dump();i=e.Element.Cache.section;e.Section.show(void 0,n);a=((r=e.Element.Cache.section)!=null?r.data("aside"):void 0)!=null;console.error("has asside -->",a);if(!E||!((o=e.Element.Cache.section)!=null?o.data("aside"):void 0)){console.error("por aqui");n.addClass(t.CLASS.SHOW)}else{c(n,"in")}return f(void 0,n)};p=function(n,i){var a,r,o;if(T(n,i)){c(i,"in")}else{m();r="section."+t.CLASS.SHOW;o=C(i);if(o){r+=":not(#"+o+")"}a=e.dom(r);c(a,"back-out");d=i}return f(n,i)};I=function(n,i){var a;c(n,"back-out");a=e.dom("section."+t.CLASS.SHOW+":not(#"+n.attr("id")+")");if(a.length===1&&a.first().data("children")!=null){console.error("Show aside -->",a.first().data("aside"));e.Aside.show(a.first().data("aside"))}return d=i};f=function(t,n){var i,a;i=n.data("aside");a=e.Element.Cache.aside;if(i){if(!(t!=null&&e.Element.Cache.aside!=null)){return L(i,n)}else if(!a.hasClass("box")){return e.Aside.hide()}}else{return e.Aside.hide()}};L=function(t,n){if(n.data("children")){return e.Aside.show(t)}else{return e.Aside.showFix(t)}};C=function(t){var n;n=e.dom("[data-children~="+t.attr("id")+"]");if(n.length){return n.attr("id")}return null};T=function(e,t){var n,i;n=e.data("children");if(!n){return false}i=t.attr("id");return n.indexOf(i)!==-1};c=function(e,n){var i,a;a=n.indexOf("in")>=0;i=false;if(a){if(!e.hasClass(t.CLASS.SHOW)){i=true}}else{i=true}if(i){e.addClass(t.CLASS.SHOW);if(e.data(t.TRANSITION.ATTR)){return e.data(t.ATTRIBUTE.DIRECTION,n)}}};g=function(){var t,n;if(!event||!e.Element.Cache.section){return true}t=e.dom(event.target).closest("section,aside");n=t.attr("id")===e.Element.Cache.section.attr("id");return n};v=function(e,n){return(e!=null?e.attr(t.ATTRIBUTE.ID):void 0)!==n};N=function(){var t,n,i;t="";for(n=0,i=h.length;n<i;n++){s=h[n];t+=""+s+"/"}t+=e.Element.Cache.article.attr("id");return setTimeout(function(){return window.location.hash=t},0)};S=function(n){var i,a,r,o,s;if(!n){n=(s=e.Element.Cache.article)!=null?s.attr(t.ATTRIBUTE.ID):void 0}r=e.dom(t.QUERY.ARTICLE_ROUTER).removeClass(t.CLASS.ACTIVE);r.filter("[data-view-article="+n+"]").addClass(t.CLASS.ACTIVE);o=e.Element.Cache.section.find(t.QUERY.ARTICLE_REFERENCE).addClass(t.CLASS.HIDE);o.filter("[data-article~='"+n+"']").removeClass(t.CLASS.HIDE);if(e.Element.Cache.aside){a=e.Element.Cache.section.attr("id");i=e.Element.Cache.aside;i.find(t.QUERY.SECTION_ROUTER+"."+t.CLASS.ACTIVE).removeClass("active");return i.find("[data-view-section="+a+"]").addClass(t.CLASS.ACTIVE)}};m=function(){if(h.length>1){return h.length-=1}};return{section:s,back:r,article:a,history:o,step:l,animationEnd:i,historys:function(){return h}}}(Lungo)}).call(this);(function(){Lungo.Aside=function(e){var t,n,i,a,r,o,s,l,u,c,d,f;t=e.Constants;c=void 0;d=void 0;r=function(n,i,a){var r,o,s,u,c,d,E,h;if(i==null){i=true}if(a==null){a=0}r=e.dom("#"+n);if(r.length&&!l(n)){e.Element.Cache.aside=r;if(e.DEVICE===t.DEVICE.PHONE){s=r.data(t.TRANSITION.ATTR)||"left";r.addClass(t.CLASS.SHOW);if(a){return f(a,false)}else{return e.Element.Cache.section.data("aside-"+s,"show")}}else{r.addClass(t.CLASS.SHOW);o=e.dom("[data-aside="+n+"][data-children]");if(o.attr("id")!==((h=e.Element.Cache.section)!=null?h.attr("id"):void 0)){e.Element.Cache.section.addClass("shadowing");c=o.data("children").split(" ");for(d=0,E=c.length;d<E;d++){u=c[d];u=e.dom(t.ELEMENT.SECTION+"#"+u);if(u.hasClass(t.CLASS.SHOW)){u.addClass("shadowing")}}}return o.removeClass("aside").addClass("asideShowing")}}};o=function(n){var i;i=e.dom("#"+n);if(i.length){e.Element.Cache.aside=i;return i.addClass(t.CLASS.SHOW).addClass("box")}};a=function(n,i){var a;if(e.Element.Cache.aside){c=n;a=e.Element.Cache.aside.data(t.TRANSITION.ATTR)||"left";if(e.DEVICE===t.DEVICE.PHONE){e.Element.Cache.section.removeClass("aside").removeClass("aside-right");if(i){return f(i,true)}else{return e.Element.Cache.section.data("aside-"+a,"hide")}}else{e.dom(".aside").removeClass("aside").addClass("asideHidding");e.Element.Cache.aside=null;if(n){n.call(n)}return e.dom(".shadow").removeClass("shadow").addClass("unshadowing")}}else if(n){return n.call(n)}};s=function(t){if(e.Element.Cache.aside){return e.Aside.hide()}else{return e.Aside.show(t)}};n=function(n){var i,a,r;r=e.dom(n.target);i=e.Element.Cache.aside.data(t.TRANSITION.ATTR)||"left";if(r.data("aside-"+i)==="hide"){e.Element.Cache.aside.removeClass(t.CLASS.SHOW);e.Element.Cache.aside=null;r.removeAttr("data-aside-"+i);if(c){c.call(c)}c=void 0}else{a=i.indexOf("right")===-1?"aside":"aside-right";r.removeAttr("style").removeAttr("data-aside-"+i).addClass(a)}if(d){d.remove();return d=void 0}};i=function(){var n;if(e.DEVICE!==t.DEVICE.PHONE){return false}n=96;return e.dom(t.QUERY.HREF_ASIDE).each(function(){var i,o,s,l;l=false;o=e.dom(this);s=o.closest("section");i=e.dom("aside#"+o.data("aside"));s.swiping(function(e){var n,a;if(!(s.hasClass("aside")||s.hasClass("aside-right"))){n=e.currentTouch.x-e.iniTouch.x;a=Math.abs(e.currentTouch.y-e.iniTouch.y);l=l?true:n>3*a&&n<50;if(l){n=n>256?256:n<0?0:n;i.addClass(t.CLASS.SHOW);s.vendor("transform","translateX("+n+"px)");return s.vendor("transition-duration","0s")}else{return s.attr("style","")}}});return s.swipe(function(e){var t,o;t=e.currentTouch.x-e.iniTouch.x;o=Math.abs(e.currentTouch.y-e.iniTouch.y);s.attr("style","");if(t>n&&l){r(i.attr("id"),true,e.currentTouch.x)}else{a}return l=false})})};l=function(t){var n;return((n=e.Element.Cache.aside)!=null?n.attr("id"):void 0)===t};u=function(){var n;if((n=e.Element.Cache.aside)!=null?n.hasClass(t.CLASS.RIGHT):void 0){return""+t.CLASS.RIGHT}else{return"  "}};f=function(n,i){var a;if(i==null){i=false}if(i){a=document.createTextNode("@-webkit-keyframes asideCustomKF {\n  0%   { -webkit-transform: translateX("+n+"px); }\n  40%  { -webkit-transform: translateX("+(n+8)+"px); }\n  100% { -webkit-transform: translateX(0); }\n}")}else{a=document.createTextNode("@-webkit-keyframes asideCustomKF {\n  0%   { -webkit-transform: translateX("+n+"px); }\n  60%  { -webkit-transform: translateX("+(t.ASIDE.NORMAL+8)+"px); }\n  100% { -webkit-transform: translateX("+t.ASIDE.NORMAL+"px); }\n}")}d=document.createElement("style");d.type="text/css";d.appendChild(a);document.getElementsByTagName("head")[0].appendChild(d);return e.Element.Cache.section.style("-webkit-animation-name","asideCustomKF")};return{toggle:s,show:r,showFix:o,hide:a,draggable:i,animationEnd:n}}(Lungo)}).call(this);(function(){Lungo.Section=function(e){var t,n,i,a;t=e.Constants;n=function(n,r){var o;if(e.DEVICE===t.DEVICE.PHONE){i(r)}else{a(n,r)}e.Element.Cache.section=r;o=r.find(""+t.ELEMENT.ARTICLE+"."+t.CLASS.ACTIVE);if(o.length===0){o=r.find(t.ELEMENT.ARTICLE).first().addClass(t.CLASS.ACTIVE)}e.Element.Cache.article=o;if(n){n.trigger(t.TRIGGER.UNLOAD)}return r.trigger(t.TRIGGER.LOAD)};i=function(e){return e.addClass(t.CLASS.SHOW)};a=function(e,t){return this};return{show:n}}(Lungo)}).call(this);(function(){Lungo.Article=function(e){var t,n;t=e.Constants;n=function(n,i,a,r,o){var s,l;if(r==null){r=""}if(o==null){o=null}if(s=e.dom(""+t.ELEMENT.ARTICLE+"#"+n)){l="";if(i!=null){l='<div class="empty">\n  <span class="icon '+i+'"></span>\n  <strong>'+a+"</strong>\n  <small>"+r+"</small>\n</div>"}s.html(l);if(o){return s.children().append("<button class='anchor'><abbr>"+o+"</abbr></button>")}}};return{clean:n}}(Lungo)}).call(this);(function(){Lungo.Boot.Data=function(e){var t,n,i,a,r;t=e.Constants.BINDING;n=function(t){var n;n=e.dom(t||document.body);if(n.length>0){return a(n)}};a=function(t){var n,i;i=[];for(n in e.Attributes){if(e.Core.isOwnProperty(e.Attributes,n)){i.push(r(t,n))}else{i.push(void 0)}}return i};r=function(t,n){var a,r;a=e.Attributes[n];r=a.selector+"[data-"+n+"]";t.find(r).each(function(t,r){var o;o=e.dom(r);return i(o,o.data(n),a.html)});if(t.data(n)!=null){return i(t,t.data(n),a.html)}};i=function(e,t,n){return e.prepend(n.replace(/\{\{value\}\}/g,t))};return{init:n}}(Lungo)}).call(this);(function(){Lungo.Boot.Device=function(e){var t,n;t=e.Constants.DEVICE;n=function(){var n,i;i=e.Core.environment();e.DEVICE=i.screen.width<768?t.PHONE:t.TABLET;n=e.dom(document.body);n.data("device",e.DEVICE);if(i.os){n.data("os",i.os.name.toLowerCase())}if(e.DEVICE===e.Constants.DEVICE.PHONE){return e.Aside.draggable()}};return{init:n}}(Lungo)}).call(this);(function(){Lungo.Boot.Events=function(e){var t,n,i,a,r,o,s,l,u,c,d,f,E,h;n=e.Constants;t=e.Constants.ATTRIBUTE;i=e.Constants.CLASS;a=e.Constants.ELEMENT;r=e.Constants.QUERY;o=function(){var t,i,a,o,d;e.dom(n.QUERY.SECTION_ROUTER_TOUCH).touch(E);e.dom(n.QUERY.SECTION_ROUTER_TAP).tap(E);e.dom(n.QUERY.ARTICLE_ROUTER_TOUCH).touch(u);e.dom(n.QUERY.ARTICLE_ROUTER_TAP).tap(u);e.dom(n.QUERY.ASIDE_ROUTER).touch(c);e.dom(n.QUERY.MENU_ROUTER).touch(f);e.dom(r.MENU_HREF).touch(l);e.dom(r.CONTROL_CHECKBOX).on(n.EVENT.CHANGE,s);o=n.EVENT.TRANSITION_END;d=[];for(i=0,a=o.length;i<a;i++){t=o[i];e.dom("body").delegate(n.ELEMENT.SECTION,t,h);d.push(e.dom("body").delegate(n.ELEMENT.ASIDE,t,h))}return d};E=function(t){var i,a;t.preventDefault();i=e.dom(this);if(i.data("async")){return d(i,n.ELEMENT.SECTION)}else{a=i.data("view-section");if(a!=="back"){return e.Router.section(a)}else{return e.Router.back()}}};u=function(t){var i;t.preventDefault();i=e.dom(this);if(i.data("async")){return d(i,n.ELEMENT.ARTICLE)}else{return e.Router.article(e.Router.history(),i.data("view-article"),i)}};d=function(t,i){var a,r,o,s,l,u,c;s=t.data("async");a=t.data("view-"+i);e.Notification.show();if(i===n.ELEMENT.ARTICLE){o=e.Element.Cache.section.attr(n.ATTRIBUTE.ID);e.Resource.load(s,n.ELEMENT.SECTION+"#"+o)}else{e.Resource.load(s)}e.Boot.Data.init("#"+a);c=e.dom("[data-async='"+s+"']");for(l=0,u=c.length;l<u;l++){r=c[l];r.removeAttribute("data-async")}if(i===n.ELEMENT.ARTICLE){e.Router.article(o,a);e.Aside.hide()}else{e.Router.section(a)}return e.Notification.hide()};c=function(t){var i;t.preventDefault();i=e.dom(t.target).closest(n.QUERY.ASIDE_ROUTER).data("view-aside");return e.Aside.toggle(i)};f=function(t){var n;t.preventDefault();n=e.dom(this).data("view-menu");return e.dom("[data-control=menu]#"+n).toggleClass(i.SHOW)};l=function(t){var a,r;t.preventDefault();a=e.dom(this);r=a.parent("[data-control=menu]").removeClass(i.SHOW).attr(n.ATTRIBUTE.ID);return e.dom("[data-view-menu="+r+"] > .icon").attr("class","icon "+a.data("icon"))};s=function(t){var n,i,a;t.preventDefault();i=e.dom(this);a=i.find("input");n=a[0].checked;a.val(n.toString());i.removeClass("checked");if(n){return i.addClass("checked")}};h=function(t){var n,i,a,r;a=e.dom(t.target);i=a.data("direction");n=a.hasClass("asideHidding")||a.hasClass("asideShowing");r=a.hasClass("shadowing")||a.hasClass("unshadowing");if(i||n||r){return e.Router.animationEnd(t)}else{return e.Aside.animationEnd(t)}};return{init:o}}(Lungo)}).call(this);(function(){Lungo.Boot.Layout=function(e){var t,n,i,a,r,o,s,l;t=e.Constants;n="#";i=function(){var n;e.Fallback.fixPositionInAndroid();if(Lungo.Config.history&&((n=window.location.hash)!=null?n.length:void 0)>=2){s()}else{o()}r(t.QUERY.LIST_IN_ELEMENT,a);return r(t.QUERY.ELEMENT_SCROLLABLE,l)};s=function(){var t,i,a,r,o,s;i=window.location.hash.replace(n,"").split("/");r=i[i.length-2];t=i[i.length-1];if(i.length>2){i.length-=2;for(o=0,s=i.length;o<s;o++){a=i[o];e.Router.step(a)}}e.Router.section(r);return e.Router.article(r,t)};o=function(){var n;n=e.dom(t.ELEMENT.SECTION).first();if(n){return e.Router.section(n.attr(t.ATTRIBUTE.ID))}};r=function(t,n){var i,a,r,o,s;a=e.dom(t);r=0;o=a.length;s=[];while(r<o){i=e.dom(a[r]);e.Core.execute(n,i);s.push(r++)}return s};a=function(e){var n;if(e.children().length===0){n=e.attr(t.ATTRIBUTE.ID);return e.append(t.ELEMENT.LIST)}};l=function(e){return e[0].addEventListener("touchstart",function(e){var t;t=this.scrollTop;if(t<=1){this.scrollTop=1}if(t+this.offsetHeight>=this.scrollHeight){return this.scrollTop=this.scrollHeight-this.offsetHeight-1}},false)};return{init:i}}(Lungo)}).call(this);(function(){Lungo.Element.Cache={section:null,article:null,aside:null,navigation:null,dump:function(){var e,t,n,i,a;e="";e+="================ cache data ================\n";e+=" SECTION:    "+((t=this.section)!=null?t.attr("id"):void 0)+"\n";e+=" ARTICLE:    "+((n=this.article)!=null?n.attr("id"):void 0)+"\n";e+=" ASIDE:      "+((i=this.aside)!=null?i.attr("id"):void 0)+"\n";e+=" NAVIGATION: "+((a=this.navigation)!=null?a.attr("id"):void 0)+"\n";e+="============================================\n";return console.error(e)}}}).call(this);(function(){Lungo.Element.Carousel=function(e,t){var n,i,a,r,o,s,l,u,c,d,f,E;s={index:0,speed:300,callback:t,container:e,element:e.children[0],slide:void 0,slides:[],slides_length:0,width:0,start:{},isScrolling:void 0,deltaX:0};a=function(e){if(s.index){return u(s.index-1,s.speed)}};n=function(e){if(s.index<s.slides_length-1){return u(s.index+1,s.speed)}else{return u(0,s.speed)}};i=function(){return s.index};r=function(){return l()};l=function(){var e,t;s.slides=s.element.children;s.slides_length=s.slides.length;if(s.slides_length<2){return null}s.width="getBoundingClientRect"in s.container?s.container.getBoundingClientRect().width:s.container.offsetWidth;if(!s.width){return null}s.element.style.width=s.slides.length*s.width+"px";t=s.slides.length;while(t--){e=s.slides[t];e.style.width=s.width+"px";e.style.display="table-cell";e.style.verticalAlign="top"}u(s.index,0);return s.container.style.visibility="visible"};u=function(e,t){var n;n=s.element.style;if(t===void 0){t=s.speed}n.webkitTransitionDuration=n.MozTransitionDuration=n.msTransitionDuration=n.OTransitionDuration=n.transitionDuration=t+"ms";n.MozTransform=n.webkitTransform="translate3d("+-(e*s.width)+"px,0,0)";n.msTransform=n.OTransform="translateX("+-(e*s.width)+"px)";
return s.index=e};o=function(){s.element.addEventListener("touchstart",f,false);s.element.addEventListener("touchmove",d,false);s.element.addEventListener("touchend",c,false);s.element.addEventListener("webkitTransitionEnd",E,false);s.element.addEventListener("msTransitionEnd",E,false);s.element.addEventListener("oTransitionEnd",E,false);s.element.addEventListener("transitionend",E,false);return window.addEventListener("resize",l,false)};f=function(e){s.start={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY,time:Number(new Date)};s.isScrolling=void 0;s.deltaX=0;s.element.style.MozTransitionDuration=s.element.style.webkitTransitionDuration=0;return e.stopPropagation()};d=function(e){var t,n;if(e.touches.length>1||e.scale&&e.scale!==1){return}s.deltaX=e.touches[0].pageX-s.start.pageX;if(typeof s.isScrolling==="undefined"){s.isScrolling=!!(s.isScrolling||Math.abs(s.deltaX)<Math.abs(e.touches[0].pageY-s.start.pageY))}if(!s.isScrolling){e.preventDefault();t=!s.index&&s.deltaX>0||s.index===s.slides_length-1&&s.deltaX<0?Math.abs(s.deltaX)/s.width+1:1;s.deltaX=s.deltaX/t;n=s.deltaX-s.index*s.width;s.element.style.MozTransform=s.element.style.webkitTransform="translate3d("+n+"px,0,0)";return e.stopPropagation()}};c=function(e){var t,n;n=Number(new Date)-s.start.time<250&&Math.abs(s.deltaX)>20||Math.abs(s.deltaX)>s.width/2;t=!s.index&&s.deltaX>0||s.index===s.slides_length-1&&s.deltaX<0;if(!s.isScrolling){u(s.index+(n&&!t?s.deltaX<0?1:-1:0),s.speed)}return e.stopPropagation()};E=function(e){if(s.callback){return s.callback.apply(s.callback,[s.index,s.slides[s.index]])}};l();o();return{prev:a,next:n,position:i,refresh:r}}}).call(this);(function(){Lungo.Element.count=function(e,t){var n,i,a;i=Lungo.dom(e);if(i){i.children(".tag.count").remove();if(t){n=Lungo.Constants.BINDING.SELECTOR;a=Lungo.Attributes.count.html.replace(n,t);return i.append(a)}}}}).call(this);(function(){Lungo.Element.loading=function(e,t){var n,i,a;i=Lungo.dom(e);if(i){a=null;if(t){n=Lungo.Constants.BINDING.SELECTOR;a=Lungo.Attributes.loading.html.replace(n,t)}return i.html(a)}}}).call(this);(function(){Lungo.Element.progress=function(e,t){var n;n=Lungo.dom(e);if(n){t+=Lungo.Constants.ATTRIBUTE.PERCENT;return n.find(".value").style(Lungo.Constants.ATTRIBUTE.WIDTH,t)}}}).call(this);(function(){Lungo.Element.Pull=function(e,t){var n,i,a,r,o,s,l,u,c,d,f,E,h,T,v,C,m,g,R;c=68;l=80;n=300;o=0;u=false;s=$$(e);r=s.siblings('div[data-control="pull"]');i=void 0;a={onPull:"Pull down to refresh",onRelease:"Release to...",onRefresh:"Loading...",callback:void 0};i=Lungo.Core.mix(a,t);d=function(){v(0,true);setTimeout(function(){u=false;r.attr("class","");return s[0].removeEventListener("touchmove",f,true)},n);return o=0};v=function(e,t){var i;i=e>l?l:e;if(t){s.addClass("pull")}else{s.removeClass("pull")}s.style("-webkit-transform","translate(0, "+i+"px)");if(t){return setTimeout(function(){return s.removeClass("pull")},n)}};C=function(e){u=true;s[0].addEventListener("touchmove",f,true);R(i.onRefresh);m(true);v(c,true);if(i.callback){return i.callback.apply(this)}};R=function(e){return r.find("strong").html(e)};m=function(e){if(e){return r.addClass("refresh")}else{return r.removeClass("refresh")}};g=function(e){if(e){return r.addClass("rotate")}else{return r.removeClass("rotate")}};f=function(e){return e.preventDefault()};T=function(e){v(o,false);m(false);if(o>c){R(i.onRelease);return g(true)}else{R(i.onPull);return g(false)}};h=function(e){if(o>c){C()}else{d()}return this};E=function(e){if($$.isMobile()){return e.touches[0].pageY}else{return e.pageY}};(function(){var e,t;t=false;e=0;return s.bind("touchstart",function(n){if(s[0].scrollTop<=1){t=true;e=E(n)}return true}).bind("touchmove",function(n){var i;if(!u&&t){i=E(n);o=i-e;if(o>=0){T(n);n.preventDefault()}}return true}).bind("touchend",function(){if(t){h()}t=false;return true})})();return{hide:d}}}).call(this);